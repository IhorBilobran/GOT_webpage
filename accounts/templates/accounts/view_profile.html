{% extends 'index.html' %}

{% block title %}
your profile
{% endblock %}

{% block main %}
<div class="row" ng-controller="profileCtrl">
	<div class="col-md-3"></div>
	<div class="col-md-4">
		<p>Username: {{user.user}}</p>
		<p>First name: {{user.first_name}}</p>
		<p>Last name: {{user.last_name}}</p>
		<img src="{% if user.img %}{{user.img.url}}{%endif%}"
		width="320" height="320" alt="Your avatar here">
		{% if user.profile.house %}
		<p>House: <a href="{% url 'home:view_house' user.profile.house.id %}">{{user.house}}</a></p>
		{% endif %}
		<p>Email: {{user.email}}</p>
		<p>City: {{user.city}}</p>
		<p>Joined: {{user.created}}</p>
	</div>
	<div class="col-md-5">
		{% verbatim %}
		<div class="text-center">
			<h3>Micro blog</h3>
			<form method="post">
				{% endverbatim %}
				{% csrf_token %}
				{% verbatim %}
				<input type="text" ng-model="titleInput" class="form-control" placeholder="Title">
				<input type="hidden" ng-model="postIdInput">
				<br>
				<textarea ng-model="textInput" rows="8" cols="40" class="form-control" placeholder="text"></textarea>
				<br>
				<button type="submit" id="post" class="btn btn-default" ng-click="addPost()">Post!</button>
				<button type="submit" id="update" class="btn btn-default" ng-click="updatePost()">Update</button>
			</form>
		</div>
		<div class="delete-message">
			<p>
				Are you really want remove your post? <br>
				You can`t undo this operation in future
			</p>
			<button type="submit" class="btn btn-danger">Delete</button>
			<button type="submit" class="btn btn-default">Cancel</button>
		</div>
		<div class="post" ng-repeat="post in posts">
			<hr>
			<div class="icons text-right">
				<button type="submit" class="btn btn-default" ng-click="editPost(post.id)">
          <span class="glyphicon glyphicon-pencil"></span>
				</button>
				<button type="submit" class="btn btn-danger" ng-click="removePost(post.id)">
					<span class="glyphicon glyphicon-trash"></span>
				</button>
			</div>
			<p>
				Title: {{post.title}}
			</p>
			<p>
				Text: {{post.text}}
			</p>
			<p>
				Posted: {{post.created}}
			</p>
		</div>
		<hr>
		{% endverbatim %}
	</div>
</div>
{% endblock %}

{% block script %}
	<script src="/static/js/profile.js"></script>
{% endblock %}
